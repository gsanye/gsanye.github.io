---
title: 基本语法 & 数据类型 & 对象内存结构
slug: 基本语法 & 数据类型 & 对象内存结构
date: 2025-08-07 06:43:07
tags:
- python
- basics
- grammar
- data-structure
- data-type

categories:
- python
- python-basics
- python-entry

---
## 几个概念
1. 表达式  
 表达式就是一个类似于数学公式的东西  
 比如：10 + 5   8 - 4  
 表达式一般仅仅用了计算一些结果，不会对程序产生实质性的影响  
 如果在交互模式中输入一个表达式，解释器会自动将表达式的结果输出
2. 语句  
 在程序中语句一般需要完成某种功能，比如打印信息、获取信息、为变量赋值。。。  
 比如：  
 print()  
 input()  
 a = 10  
 语句的执行一般会对程序产生一定的影响  
 在交互模式中不一定会输出语句的执行结果  
3. 程序（program）  
 程序就是由一条一条的语句和一条一条的表达式构成的。
4. 函数（function）  
 函数就是一种语句，函数专门用来完成特定的功能  
 函数长的形如：xxx()  
函数的分类：  
 内置函数  
     - 由Python解释器提供的函数，可以在Python中直接使用  
 自定义函数  
- 由程序员自主的创建的函数  
 当我们需要完成某个功能时，就可以去调用内置函数，或者自定义函数   
 函数的两个要素：  
 参数  
     - ()中的内容就是函数的参数  
     - 函数中可以没有参数，也可以有多个参数，多个参数之间使用,隔开  
 返回值  
- 返回值是函数的返回结果，不是所有的函数都有返回值

## 基本语法
1. 在Python中严格区分大小写
2. Python中的每一行就是一条语句，每条语句以换行结束
3. Python中每一行语句不要过长（规范中建议每行不要超过80个字符）  
 "rulers":[80],
4. 一条语句可以分多行编写，多行编写时语句后边以\结尾  
5. Python是缩进严格的语言，所以在Python中不要随便写缩进  
6. 在Python中使用#来表示注释，#后的内容都属于注释，注释的内容将会被解释器所忽略  
 我们可以通过注释来对程序进行解释说明，一定要养成良好的编写注释的习惯  
 注释要求简单明了，一般习惯上#后边会跟着一个空格



## 字面量和变量
字面量就是一个一个的值，比如：1，2，3，4，5，6，‘HELLO’  
    字面量所表示的意思就是它的字面的值，在程序中可以直接使用字面量

变量（variable）变量可以用来保存字面量，并且变量中保存的字面量是不定的  
    变量本身没有任何意思，它会根据不同的字面量表示不同的意思

一般我们在开发时，很少直接使用字面量，都是将字面量保存到变量中，通过变量来引用字面量

## 变量和标识符
## 数据类型
数据类型指的就是变量的值得类型，也就是可以为变量赋哪些值   
    数值  
        整型 int  
            布尔值 bool  
        浮点型 float  
        复数  
    字符串 str  
    空值 None

### 数值类型
python中的数值分三种类型： 整数、浮点数（小数）、复数

1. python中所有的整数都是int类型，整数无大小限制，可以是一个无限大的整数
    - 如果数字过长，可以使用_作为分隔符，方便阅读
2. 进制
    1. 10进制
        * 不能以0开头，所有整数打印结果一律为10进制形式展示
    2. 二进制 0b开头
    3. 八进制 0o开头
    4. 十六进制 0x开头
3. 可以通过运算符对数字进行运算
    - 可以保证整数运算的精确
4. 所有小数都是float类型
5. 对浮点数进行运算时，可能会得到一个不精确的结果

### 字符串 str
#### 字符串基本使用
字符串表示一段文本信息

1. 所有字符串都要使用引号引起来，不使用引号的的不是字符串
2. 可以是双引号或者单引号
3. 不同引号之间可以嵌套
4. 相同引号之间不能嵌套
5. 单引号和双引号之间不能跨行使用
6. 三重引号可以换行，并且会保留字符串的格式 ''' """
7. 转移字符可以使用 \来进行转移

```plain
\' 表示'
\" 表示"
\t 表示制表符
\n 表示换行符
\\ 表示反斜杠
\uxxxx 表示Unicode编码
```

#### 格式化字符串
字符串格式化：

1. 字符串之间使用加法运算
    - 两个字符串拼接为一个字符串
    - 字符串不能和其他类型进行加法运算
    - TypeError: must be str, not int
2. 字符串中指定占位符

```python
# %s 在字符串中表示任意字符
# %f 浮点数占位符
# %d 整数占位符
b = 'Hello %s'%'孙悟空'
b = 'hello %s 你好 %s'%('tom','孙悟空')
b = 'hello %3.5s'%'abcdefg' # %3.5s字符串的长度限制在3-5之间
b = 'hello %s'%123.456
b = 'hello %.2f'%123.456
b = 'hello %d'%123.95
b = '呵呵'

```

3. 格式化字符串

```plain
c = f'hello {a} {b}'
```

    - 创建字符串是在字串前添加一个f，来创建一个格式化字符串
    - 在格式化字符串中直接嵌入变量

#### 复制字符串
1. 字符串的复制（将字符串和数字相乘）
    - 如果将字符串和数字相乘，则解释器会将字符串重复指定的次数并返回

```python
a = 'abc'
# * 在语言中表示乘法
a = a * 20

```

### 布尔值
布尔值 bool,主要是做逻辑判断，有两个值，bool实际上也属于int

1. True
    - 表示真，相当于 1
2. False
    - 表示假，相当于 0



### 空值
None 空值，专门用来表示不存在

## 类型检查
### 类型检查
通过类型检查，可以检查值（变量）的类型

1. 使用type()函数检查值的类型
    - 该函数将检查结果作为返回值返回

```python
print(type(1)) # <class 'int'>
print(type(1.5)) # <class 'float'>
print(type(True)) # <class 'bool'>
print(type('hello'))  # <class 'str'>
print(type(None)) # <class 'NoneType'>
```

## 对象（object）
+ Python是一门面向对象的语言
+ 一切皆对象！
+ 程序运行当中，所有的数据都是存储到内存当中然后再运行的！
+ 对象就是内存中专门用来存储指定数据的一块区域
+ 对象实际上就是一个容器，专门用来存储数据
+ 像我们之前学习的数值、字符串、布尔值、None都是对象
+ 参考 图1

## 对象的结构
+ 每个对象中都要保存三种数据
    - id（标识）

> id用来标识对象的唯一性，每一个对象都有唯一的id  
对象的id就相当于人的身份证号一样  
可以通过id()函数来查看对象的id  
id是由解析器生成的，在CPython中，id就是对象的内存地址  
对象一旦创建，则它的id永远不能再改变
>

    - type（类型）

> 类型用来标识当前对象所属的类型  
比如：int str float bool 。。。  
类型决定了对象有哪些功能  
通过type()函数来查看对象的类型  
Python是一门强类型的语言，对象一旦创建类型便不能修改
>

    - value（值）

> 值就是对象中存储的具体的数据  
对于有些对象值是可以改变的  
对象分成两大类，可变对象 不可变对象  
      可变对象的值可以改变  
      不可变对象的值不能改变，之前学习的对象都是不可变对象
>

    - 参考 图2

练习：尝试自己画一下对象的内存结构。

![](/images/post/python/python-basics/python-entry/basic/python-memory.png)

## 变量和对象
+ 对象并没有直接存储到变量中，在Python中变量更像是给对象起了一个别名
+ 变量中存储的不是对象的值，而是对象的id（内存地址），  
  当我们使用变量时，实际上就是在通过对象id在查找对象
+ 变量中保存的对象，只有在为变量重新赋值时才会改变
+ 变量和变量之间是相互独立的，修改一个变量不会影响另一个变量
+ 参考 图3

### 变量的赋值
1. 变量无需声明，可以直接赋值 

```python
    a = 1
```

2. 不能使用没有赋值过的变量
    - 直接使用会导致异常：NameError: name 'b' is not defined
3. python是动态类型语言，可以赋值变量任意类型的值，也可以改变变量的值的类型

```plain
a = 1
a = 'str'
```

### 标识符
python中所有可以自主命名的内容都是标识符  
比如：类名、函数名、变量名  
标识符规范：

1. 标识符中可以包含字母、数字、_,但是不能使用数字开头

> 例如： a_1 _a1 _1a
>

2. 标识符不能和python中的关键字和保留字冲突
    - 也不建议和python内建函数名冲突，避免函数被覆盖
3. 命名规范
    - 下划线命名法
        * 所有字母小写，单词之间用_分割

> max_length min_length hello_word
>

    - 帕斯科命名法（大驼峰命名法）
        * 首字母大写，每个单词开头字母大写，其余小写

> MaxLength MinLength HelloWorld
>

标识符命名不规范会报错：SyntaxError: invalid syntax

## 类型转换
+ 所谓的类型转换，将一个类型的对象转换为其他对象
+ 类型转换不是改变对象本身的类型，而是根据当前对象的值创建一个新对象作为结果返回

类型转换四个函数 int() float() str() bool()

### int()
可以用来将其他的对象转换为整型  
规则：

1. 布尔值：True -> 1   False -> 0
2. 浮点数：直接取整，省略小数点后的内容
3. 字符串：合法的整数字符串，直接转换为对应的数字
    - 如果不是一个合法的整数字符串，则报错 ValueError: invalid literal for int() with base 10: '11.5'
4. 对于其他不可转换为整型的对象，直接抛出异常 ValueError

### float()
```plain
- float() 和 int()基本一致，不同的是它会将对象转换为浮点数
```

### bool()
可以将对象转换为布尔值，任何对象都可以转换为布尔值  
   规则：

1. 对于所有表示空性的对象都会转换为False，
    - 哪些表示的空性：0 、 None 、 '' 。。。
2. 其余的转换为True



